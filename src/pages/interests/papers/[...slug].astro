---
import { getCollection } from "astro:content";
import DetailLayout from "../../../layouts/DetailLayout.astro";

export async function getStaticPaths() {
    const papers = await getCollection("papers");
    return papers.map((entry) => ({
        params: { slug: entry.slug },
        props: { entry },
    }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<DetailLayout
    title={entry.data.title}
    subtitle={entry.data.authors}
    date={`${entry.data.conf} | Read: ${entry.data.readDate}`}
    color="orange"
    backLink="/interests"
    backText="Interests"
>
    <div class="mb-8 not-prose">
        <a
            href={entry.data.link}
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-orange-500 hover:text-orange-500 transition-colors"
        >
            Read Original Paper &rarr;
        </a>
    </div>

    <Content />
</DetailLayout>
